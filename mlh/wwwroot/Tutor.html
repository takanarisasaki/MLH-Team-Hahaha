<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" type="text/css" href="css/site.css" />
</head>
<body>
    <header>
        <nav>
            <div class="row">
                Logo image
                <!--@*<img src="resources/img/logo.png" alt="Omnifood logo" class="logo-black">*@-->
                <ul class="main-nav js--main-nav">
                    <li><a href="#about">About</a></li>
                    <li><a href="#findTutors">Find Tutors</a></li>
                    <li><a href="#contactUs">Contact Us</a></li>
                </ul>
            </div>
        </nav>
        <div class="catchPhrase">
            <h1>Find your perfect tutor and ACE your exams! </h1>
        </div>
    </header>
    <section class="aboutContainer" id="about">
        <div class="aboutTextBox">
            <h2 class="aboutTitle">About</h2>
            <p>We provide services for tutors and students.
            <p>Tutors help in courses they are expert in, and students find tutors who can help them.</p>
            <p>See below to see our very best tutors!</p>
        </div>
    </section>
    <section class="tutorContainer" id="findTutors">
        <div class="tutorTitle">
            <h2>Our Tutors</h2>
        </div>
        <div class="tutors" id="contactUs">
            <div class="tutor">
                <img src="images/tutor1.jpeg" width="400" height="400" />
                <div class="tutorName"><p id="tutor_1_name"></p></div>
                <div class="tutorDescription"><p id="tutor_1_description"></p></div>
                <div class="tutorPrice"><p id="tutor_1_price"></p></div>
                <div class="tutorRating"><p id="tutor_1_rating"></p></div>
                <i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>
            </div>

            <div class="tutor">
                <img src="images/tutor2.jpeg" width="400" height="400" />
                <div class="tutorName"><p id="tutor_2_name"></p></div>
                <div class="tutorDescription"><p id="tutor_2_description"></p></div>
                <div class="tutorPrice"><p id="tutor_2_price"></p></div>
                <div class="tutorRating"><p id="tutor_2_rating"></p></div>
            </div>

            <div class="tutor">
                <img src="images/tutor3.jpeg" width="400" height="400" />
                <div class="tutorName"><p id="tutor_3_name"></p></div>
                <div class="tutorDescription"><p id="tutor_3_description"></p></div>
                <div class="tutorPrice"><p id="tutor_3_price"></p></div>
                <div class="tutorRating"><p id="tutor_3_rating"></p></div>
            </div>

            <div class="tutor">
                <img src="images/tutor4.jpeg" width="400" height="400" />
                <div class="tutorName"><p id="tutor_4_name"></p></div>
                <div class="tutorDescription"><p id="tutor_4_description"></p></div>
                <div class="tutorPrice"><p id="tutor_4_price"></p></div>
                <div class="tutorRating"><p id="tutor_4_rating"></p></div>
            </div>
        </div>
    </section>

    <section class="contactContainer" id="contactUs"></section>


    <script type="text/javascript">

        function getUrlParameter(){
            var jsonData = '{ "tutors" : [{"first_name": "jacky", "last_name": "ma"}, {"first_name": "chen", "last_name": "ma"},    {"first_name": "taka", "last_name": "sd"},  {"first_name": "alain", "last_name": "ma"}]}'
            var encodedJson  = btoa(jsonData);

            var dummy_url = "http://www.yomama.com/tutor.html?" + encodedJson

            // TODO: Replace dummy_url raw string assignment with window.location.href later

            var decodeJson = atob(dummy_url.split('?')[1]);
            var allTutors = JSON.parse(decodeJson.replace(/\\/g, ''));
            return allTutors;
        }

        let tutorsInfo = getUrlParameter().tutors;

        for (let i = 0; i < tutorsInfo.length; i++) {
            let firstName = tutorsInfo[i].first_name;
            let lastName = tutorsInfo[i].last_name;
            let fullName = firstName + " " + lastName;
            let fullNameDOM = `tutor_${i+1}_name`;
            document.getElementById(fullNameDOM).innerHTML = fullName;

            let descriptionDOM = `tutor_${i+1}_description`;
            document.getElementById(descriptionDOM).innerHTML = "This is a description of the tutor.";

            let priceDOM = `tutor_${i+1}_price`;
            document.getElementById(priceDOM).innerHTML = "$15/h";

            let ratingDOM = `tutor_${i+1}_rating`;
            document.getElementById(ratingDOM).innerHTML = "5"
        }

    </script>
</body>
</html>
